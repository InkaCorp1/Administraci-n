<!-- Vista Simulador de Cr茅ditos y P贸lizas - INKA CORP -->
<div class="content-wrapper simulador-wrapper">
    <!-- Hero Header del M贸dulo -->
    <div class="simulador-hero">
        <div class="hero-bg-simulador"></div>
        <div class="hero-content-simulador">
            <div class="hero-icon-simulador">
                <i class="fas fa-calculator"></i>
            </div>
            <h1 class="hero-title-simulador">Simulador</h1>
            <p class="hero-subtitle-simulador">Calcula tu cr茅dito o p贸liza</p>
        </div>
    </div>

    <!-- Toggle Tipo de Simulaci贸n -->
    <div class="simulador-toggle-container">
        <div class="simulador-toggle">
            <button type="button" class="toggle-btn active" data-tipo="credito" id="toggle-credito">
                <i class="fas fa-hand-holding-usd"></i>
                <span>Cr茅dito</span>
            </button>
            <button type="button" class="toggle-btn" data-tipo="poliza" id="toggle-poliza">
                <i class="fas fa-certificate"></i>
                <span>P贸liza</span>
            </button>
        </div>
    </div>

    <!-- Formulario de Simulaci贸n -->
    <div class="simulador-card">
        <h2 class="simulador-card-title">
            <i class="fas fa-edit"></i>
            <span id="form-title">Datos del Cr茅dito</span>
        </h2>

        <form id="simulador-form">
            <!-- Campos Comunes -->
            <div class="simulador-form-grid">
                <!-- Nombre del Socio (Opcional) -->
                <div class="form-group full-width">
                    <label class="form-label">Nombre del Socio (opcional)</label>
                    <input type="text" id="sim-nombre" class="form-input" placeholder="Nombre para el documento">
                </div>

                <!-- Capital / Inversi贸n -->
                <div class="form-group">
                    <label class="form-label" id="label-capital">Capital Solicitado ($)</label>
                    <input type="number" id="sim-capital" class="form-input" value="10000" min="100" step="100"
                        required>
                </div>

                <!-- Tasa de Inter茅s -->
                <div class="form-group">
                    <label class="form-label" id="label-interes">Tasa de Inter茅s Mensual (%)</label>
                    <input type="number" id="sim-interes" class="form-input" value="2" min="0.1" max="15" step="0.1"
                        required>
                </div>

                <!-- Plazo -->
                <div class="form-group">
                    <label class="form-label">Plazo (meses)</label>
                    <input type="number" id="sim-plazo" class="form-input" value="12" min="1" max="60" step="1"
                        required>
                </div>

                <!-- Campos espec铆ficos de Cr茅dito -->
                <div class="form-group credito-field">
                    <label class="form-label">Fecha de Desembolso</label>
                    <input type="date" id="sim-fecha-desembolso" class="form-input">
                </div>

                <div class="form-group credito-field">
                    <label class="form-label">D铆a de Pago Mensual</label>
                    <select id="sim-dia-pago" class="form-select">
                        <option value="10">D铆a 10 de cada mes</option>
                        <option value="15" selected>D铆a 15 de cada mes</option>
                        <option value="20">D铆a 20 de cada mes</option>
                        <option value="25">D铆a 25 de cada mes</option>
                    </select>
                </div>

                <!-- Campos espec铆ficos de P贸liza -->
                <div class="form-group poliza-field hidden">
                    <label class="form-label">Fecha de Inicio</label>
                    <input type="date" id="sim-fecha-inicio" class="form-input">
                </div>
            </div>

            <!-- Info Box Cr茅dito -->
            <div class="simulador-info-box credito-field" id="info-credito">
                <i class="fas fa-info-circle"></i>
                <div>
                    <strong>Beneficios del Cr茅dito:</strong>
                    <ul>
                        <li>Cuotas fijas mensuales durante todo el plazo</li>
                        <li>El <strong>ahorro programado</strong> se devuelve al cancelar el cr茅dito</li>
                        <li>Precancelaci贸n disponible a partir del 3er mes</li>
                        <li>Renovaci贸n del cr茅dito en cualquier momento</li>
                    </ul>
                </div>
            </div>

            <!-- Info Box P贸liza -->
            <div class="simulador-info-box poliza-field hidden" id="info-poliza">
                <i class="fas fa-info-circle"></i>
                <div>
                    <strong>Sobre la P贸liza:</strong>
                    <ul>
                        <li>Inversi贸n segura con tasa fija</li>
                        <li>Intereses pagados al vencimiento</li>
                        <li>Opciones de capitalizaci贸n o retiro</li>
                    </ul>
                </div>
            </div>

            <!-- Botones de Acci贸n -->
            <div class="simulador-actions">
                <button type="button" class="btn btn-primary" id="btn-calcular">
                    <i class="fas fa-chart-line"></i>
                    Calcular Simulaci贸n
                </button>
                <button type="button" class="btn btn-secondary" id="btn-limpiar">
                    <i class="fas fa-eraser"></i>
                    Limpiar
                </button>
            </div>
        </form>
    </div>

    <!-- Resultados de la Simulaci贸n -->
    <div id="simulador-resultados" class="hidden">
        <!-- Resumen -->
        <div class="simulador-card">
            <h2 class="simulador-card-title">
                <i class="fas fa-chart-pie"></i>
                <span id="resumen-title">Resumen del Cr茅dito</span>
            </h2>

            <div class="simulador-resumen-grid">
                <div class="resumen-item">
                    <span class="resumen-label" id="res-label-capital">Capital Solicitado</span>
                    <span class="resumen-value" id="res-capital">$0.00</span>
                </div>
                <div class="resumen-item">
                    <span class="resumen-label" id="res-label-interes-total">Total Intereses</span>
                    <span class="resumen-value" id="res-intereses">$0.00</span>
                </div>
                <div class="resumen-item highlight credito-only">
                    <span class="resumen-label">Total Ahorro Programado</span>
                    <span class="resumen-value" id="res-ahorro">$0.00</span>
                    <small class="resumen-subtext">(se devuelve al socio)</small>
                </div>
                <div class="resumen-item highlight">
                    <span class="resumen-label" id="res-label-cuota-total">Cuota Mensual</span>
                    <span class="resumen-value" id="res-cuota-total">$0.00</span>
                    <small class="resumen-subtext">(incluye ahorro programado)</small>
                </div>
                <div class="resumen-item total-neto">
                    <span class="resumen-label" id="res-label-total">Total Neto a Pagar</span>
                    <span class="resumen-value" id="res-total">$0.00</span>
                    <small class="resumen-nota">(sin ahorro - se devuelve al socio)</small>
                </div>
                <!-- Campos solo p贸liza -->
                <div class="resumen-item poliza-only hidden">
                    <span class="resumen-label">Fecha de Vencimiento</span>
                    <span class="resumen-value" id="res-vencimiento">-</span>
                </div>
                <div class="resumen-item poliza-only hidden highlight">
                    <span class="resumen-label">Valor al Vencimiento</span>
                    <span class="resumen-value" id="res-valor-final">$0.00</span>
                </div>
            </div>

            <!-- Nota Ahorro Programado (Solo Cr茅dito) -->
            <div class="simulador-info-box success credito-only" id="nota-ahorro">
                <i class="fas fa-piggy-bank"></i>
                <div>
                    <strong> Ahorro Programado:</strong> <span id="nota-ahorro-monto">$0.00</span>
                    <p>Este monto ser谩 devuelto al socio al cancelar completamente el cr茅dito, o puede usarse para pagar
                        la 煤ltima cuota.</p>
                </div>
            </div>
        </div>

        <!-- Tabla de Amortizaci贸n -->
        <div class="simulador-card">
            <h2 class="simulador-card-title">
                <i class="fas fa-table"></i>
                <span id="tabla-title">Tabla de Amortizaci贸n</span>
            </h2>

            <div class="simulador-table-container">
                <table class="simulador-table">
                    <thead id="tabla-header">
                        <!-- Din谩mico -->
                    </thead>
                    <tbody id="tabla-body">
                        <!-- Din谩mico -->
                    </tbody>
                    <tfoot id="tabla-footer">
                        <!-- Din谩mico -->
                    </tfoot>
                </table>
            </div>
        </div>

        <!-- Bot贸n Generar PDF -->
        <div class="simulador-card simulador-pdf-section">
            <h2 class="simulador-card-title">
                <i class="fas fa-file-pdf"></i>
                Generar Documento
            </h2>

            <div class="pdf-disclaimer">
                <i class="fas fa-exclamation-triangle"></i>
                <p>Este documento es una <strong>SIMULACIN</strong>. Los valores pueden variar seg煤n las condiciones
                    finales aprobadas.</p>
            </div>

            <button type="button" class="btn btn-primary btn-large" id="btn-generar-pdf">
                <i class="fas fa-download"></i>
                Descargar PDF de Simulaci贸n
            </button>
        </div>
    </div>
</div>